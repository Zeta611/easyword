// Generated by ReScript, PLEASE EDIT WITH CARE

import * as DateFormat from "./DateFormat.js";
import * as Caml_option from "../node_modules/rescript/lib/es6/caml_option.js";
import * as Core__Option from "../node_modules/@rescript/core/src/Core__Option.js";
import * as JsxRuntime from "react/jsx-runtime";
import * as RescriptReactRouter from "../node_modules/@rescript/react/src/RescriptReactRouter.js";
import * as RescriptRelay_Fragment from "../node_modules/rescript-relay/src/RescriptRelay_Fragment.js";
import * as JargonCard_jargon_graphql from "./__generated__/JargonCard_jargon_graphql.js";

var convertFragment = JargonCard_jargon_graphql.Internal.convertFragment;

function use(fRef) {
  return RescriptRelay_Fragment.useFragment(JargonCard_jargon_graphql.node, convertFragment, fRef);
}

function useOpt(fRef) {
  return RescriptRelay_Fragment.useFragmentOpt(fRef !== undefined ? Caml_option.some(Caml_option.valFromOption(fRef)) : undefined, JargonCard_jargon_graphql.node, convertFragment);
}

var JargonCardFragment = {
  Types: undefined,
  Operation: undefined,
  convertFragment: convertFragment,
  use: use,
  useOpt: useOpt
};

function badgify(text) {
  return JsxRuntime.jsx("div", {
              children: text,
              className: "badge badge-sm"
            }, text);
}

function JargonCard(props) {
  var match = use(props.jargonCardRef);
  var id = match.id;
  return JsxRuntime.jsxs("div", {
              children: [
                JsxRuntime.jsxs("div", {
                      children: [
                        JsxRuntime.jsx("div", {
                              children: "최근 활동 " + DateFormat.timeAgo(new Date(match.updated_at)),
                              className: "text-xs dark:text-zinc-500"
                            }),
                        JsxRuntime.jsx("div", {
                              children: match.jargon_categories.map(function (r) {
                                    return badgify(r.category.acronym);
                                  }),
                              className: "flex gap-1"
                            })
                      ],
                      className: "flex justify-between"
                    }),
                JsxRuntime.jsxs("div", {
                      children: [
                        JsxRuntime.jsx("div", {
                              children: match.name,
                              className: "font-semibold group-hover:text-teal-700 dark:group-hover:text-teal-200"
                            }),
                        JsxRuntime.jsx("div", {
                              children: JsxRuntime.jsx("ol", {
                                    children: match.translations.map(function (param) {
                                          return JsxRuntime.jsx("li", {
                                                      children: param.name
                                                    }, param.id);
                                        })
                                  }),
                              className: "overflow-hidden group-hover:overflow-visible whitespace-nowrap group-hover:whitespace-normal text-ellipsis font-regular text-zinc-500 group-hover:text-teal-600 dark:text-zinc-400 dark:group-hover:text-teal-300"
                            })
                      ],
                      className: "flex-none inline-grid grid-cols-1"
                    }),
                JsxRuntime.jsx("div", {
                      children: "댓글 " + Core__Option.getOr(Core__Option.map(match.comments_aggregate.aggregate, (function (x) {
                                    return x.count;
                                  })), 0).toString() + "개",
                      className: "flex-none text-xs dark:text-zinc-400"
                    })
              ],
              className: "h-[100%] p-4",
              onClick: (function (param) {
                  RescriptReactRouter.push("/jargon/" + id);
                })
            });
}

var make = JargonCard;

export {
  JargonCardFragment ,
  badgify ,
  make ,
}
/* react/jsx-runtime Not a pure module */
